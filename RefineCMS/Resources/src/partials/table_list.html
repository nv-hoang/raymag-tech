<div class="transition-content flex items-center justify-between gap-4 mb-4">
    <div class="min-w-0">
        <h2 class="truncate text-[24px] font-medium tracking-wide text-gray-800">Posts</h2>
    </div>
    <div class="flex flex-row gap-x-2 gap-y-1 flex-wrap">
        {{> new_page }}
    </div>
</div>

<a-tabs>
    <a-tab-pane key="1" tab="All (16)"></a-tab-pane>
    <a-tab-pane key="2" tab="Published (16)"></a-tab-pane>
    <a-tab-pane key="3" tab="Cornerstone content (0)"></a-tab-pane>
</a-tabs>

<div class="flex flex-col md:flex-row justify-between flex-wrap gap-2">
    <ui-group :data="{search: ''}" v-slot="search" class="md:w-[200px] md:order-1">
        <a-input-search v-model:value="search.search" @search="(v) => emitter.emit('list-search', v)" placeholder="Search Posts"></a-input-search>
    </ui-group>

    <div class="flex flex-wrap gap-2 justify-between">
        <ui-group :data="{action: ''}" v-slot="bulk_action" class="flex items-center gap-2 md:mr-2">
            <a-select v-model:value="bulk_action.action" style="width: 150px;">
                <a-select-option value="">Bulk actions</a-select-option>
                <a-select-option value="edit">Edit</a-select-option>
                <a-select-option value="trash">Move to Trash</a-select-option>
            </a-select>
            <a-button>Apply</a-button>
        </ui-group>

        <div class="hidden xl:block">
            <ui-group :data="{date: '', category: ''}" v-slot="filter" class="flex flex-wrap gap-2">
                <a-select v-model:value="filter.date" style="width: 150px;">
                    <a-select-option value="">All dates</a-select-option>
                    <a-select-option value="202412">December 2024</a-select-option>
                    <a-select-option value="202410">October 2024</a-select-option>
                </a-select>
                <a-select v-model:value="filter.category" style="width: 150px;">
                    <a-select-option value="">All Categories</a-select-option>
                    <a-select-option value="2">News</a-select-option>
                    <a-select-option value="1">Uncategorized</a-select-option>
                </a-select>
                <a-button>Filter</a-button>
            </ui-group>
        </div>

        <div class="xl:hidden">
            <a-button @click="emitter.emit('filter-toggle')">
                <span>Filter</span>
                <down-outlined></down-outlined>
            </a-button>
        </div>
    </div>
</div>

<ui-group :data="{open: false}" v-slot="state" @filter-toggle="(e) => e.open = !e.open" class="xl:hidden">
    <ui-collapse :open="state.open">
        <div class="border-t-2 border-b-2 border-gray-200 p-2 mt-2 bg-gray-100">
            <ui-group :data="{date: '', category: ''}" v-slot="filter" class="flex flex-wrap gap-2">
                <a-select v-model:value="filter.date" style="width: 150px;">
                    <a-select-option value="">All dates</a-select-option>
                    <a-select-option value="202412">December 2024</a-select-option>
                    <a-select-option value="202410">October 2024</a-select-option>
                </a-select>
                <a-select v-model:value="filter.category" style="width: 150px;">
                    <a-select-option value="">All Categories</a-select-option>
                    <a-select-option value="2">News</a-select-option>
                    <a-select-option value="1">Uncategorized</a-select-option>
                </a-select>
                <a-button>Filter</a-button>
            </ui-group>
        </div>
    </ui-collapse>
</ui-group>

<div class="mt-3">
    <ui-table name="list" apiuri="posts" row-key="id">
        <ui-col name="Id" title="ID"></ui-col>
        <ui-col name="title" title="Title" v-slot="row">
            <a href="form.html" v-text="row.title"></a>
        </ui-col>
        <ui-col name="author" title="Author"></ui-col>
        <ui-col name="categories" title="Categories"></ui-col>
        <ui-col name="tags" title="Tags" v-slot="row">
            <a-tag v-for="item in row.tags" v-text="item"></a-tag>
        </ui-col>
        <ui-col name="date" title="Date">
            <span v-text="$d(new Date(), 'at')"></span>
        </ui-col>
        <ui-col name="actions" title="Actions">
            <div class="flex items-center justify-center gap-1">
                <div class="hover:text-primary-500">
                    <a href="#"><edit-outlined></edit-outlined></a>
                </div>
            </div>
        </ui-col>
    </ui-table>
</div>